(function(){"use strict";var t={9922:function(t,e,n){var a=n(3862),o=n(3396),r=n(4870),c=n(7139),s=n(2578),i=n(948),l=n(9585);const u=(0,s.Q_)("contract",{state:()=>({contractState:[],contractId:"48G_IllU9G-PRyl4Ods88STtQ1h0Eo8zHQUHdNlHKZw",messages:[],warp:null,contract:null,wallet:null}),actions:{async getContract(){this.warp=await i.Co.forMainnet(),this.contract=await this.warp.contract(this.contractId);const{cachedValue:t}=await this.contract.readState();this.contractState=t.state,console.log(this.contractState)},async connectWallet(){this.wallet=new l.Z({name:"App name"}),this.wallet.setUrl("arweave.app");const t=await this.wallet.connect();console.log(t)},async voteInteraction(t,e){await this.connectWallet(),await this.contract.writeInteraction({function:t,id:e})},async addContent(t){await this.connectWallet(),await this.contract.writeInteraction({function:"postMessage",content:t})}}}),d=t=>((0,o.dD)("data-v-11a8b6b0"),t=t(),(0,o.Cn)(),t),f=d((()=>(0,o._)("p",null,"Contract id:",-1))),v=["href"];var p={__name:"TheHeader",setup(t){const e=u();return(t,n)=>((0,o.wg)(),(0,o.iD)("header",null,[(0,o._)("h1",null,[f,(0,o._)("a",{href:`https://sonar.warp.cc/#/app/contract/${(0,r.SU)(e).contractId}`},(0,c.zw)((0,r.SU)(e).contractId),9,v)])]))}},w=n(89);const h=(0,w.Z)(p,[["__scopeId","data-v-11a8b6b0"]]);var _=h;const g=t=>((0,o.dD)("data-v-c1e426b2"),t=t(),(0,o.Cn)(),t),m={class:"form__group field"},b=g((()=>(0,o._)("label",{for:"message",class:"form__label"},"Message",-1))),y=["onClick"];var C={__name:"MessageForm",setup(t){let e=(0,r.iH)("");const n=u(),c=async()=>{""!=e.value&&(await n.addContent(e.value),e.value="",n.getContract())};return(t,s)=>((0,o.wg)(),(0,o.iD)("section",null,[(0,o._)("button",{onClick:s[0]||(s[0]=t=>(0,r.SU)(n).connectWallet())},"CONNECT WALLET"),(0,o._)("form",null,[(0,o._)("div",m,[(0,o.wy)((0,o._)("input",{type:"input","onUpdate:modelValue":s[1]||(s[1]=t=>(0,r.dq)(e)?e.value=t:e=t),class:"form__field",placeholder:"Message",name:"message",id:"message",required:""},null,512),[[a.nr,(0,r.SU)(e)]]),b]),(0,o._)("button",{onClick:(0,a.iM)(c,["prevent"])},"Send",8,y)])]))}};const k=(0,w.Z)(C,[["__scopeId","data-v-c1e426b2"]]);var O=k;const S={class:"wrapper"},I={key:0,class:"content"},M={class:"votes-counter"},U=["href"],x={class:"votes"},j=["onClick"],D=["onClick"];var W={__name:"App",setup(t){const e=u();e.getContract();const n=async(t,n)=>{await e.voteInteraction(t,n)};return(t,s)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",null,[(0,o.Wm)(_)]),(0,o._)("div",S,[(0,o.Wm)(O),(0,r.SU)(e).contractState.messages?((0,o.wg)(),(0,o.iD)("div",I,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,r.SU)(e).contractState.messages.slice().reverse(),(t=>((0,o.wg)(),(0,o.iD)("div",{class:"message",key:t.id},[(0,o._)("div",M,(0,c.zw)(t.votes.status),1),(0,o._)("p",null,(0,c.zw)(t.content),1),(0,o._)("h3",null,[(0,o._)("a",{href:`https://viewblock.io/arweave/address/${t.creator}`},(0,c.zw)(t.creator)+"}",9,U)]),(0,o._)("div",x,[(0,o._)("div",{class:"upvote",onClick:(0,a.iM)((e=>n("upvoteMessage",t.messageId)),["prevent"])}," + ",8,j),(0,o._)("div",{class:"downvote",onClick:(0,a.iM)((e=>n("downvoteMessage",t.messageId)),["prevent"])}," - ",8,D)])])))),128))])):(0,o.kq)("",!0)])],64))}};const E=W;var H=E;const T=(0,a.ri)(H),z=(0,s.WB)();T.use(z),T.mount("#app")}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var r=e[a]={id:a,loaded:!1,exports:{}};return t[a](r,r.exports,n),r.loaded=!0,r.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,a,o,r){if(!a){var c=1/0;for(u=0;u<t.length;u++){a=t[u][0],o=t[u][1],r=t[u][2];for(var s=!0,i=0;i<a.length;i++)(!1&r||c>=r)&&Object.keys(n.O).every((function(t){return n.O[t](a[i])}))?a.splice(i--,1):(s=!1,r<c&&(c=r));if(s){t.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[a,o,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,r,c=a[0],s=a[1],i=a[2],l=0;if(c.some((function(e){return 0!==t[e]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(i)var u=i(n)}for(e&&e(a);l<c.length;l++)r=c[l],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},a=self["webpackChunkcontract_messages"]=self["webpackChunkcontract_messages"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(9922)}));a=n.O(a)})();
//# sourceMappingURL=app.94036eda.js.map